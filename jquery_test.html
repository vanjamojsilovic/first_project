<!DOCTYPE html>
<html>
<head>
    <style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;        
    }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        function empty_table(ta){
            var i=0;
            while(i<ta.length){
                $(ta[i]).empty();
                i++;
            }
        }
        var table_array=new Array(
            "#tbl_employees",
            "#tbl_adresses",
            "#tbl_educations",
            "#tbl_phones",
            "#tbl_empl_with_adr",
            "#tbl_empl_with_phones",
            "#tbl_empl_with_edu"
        );
        $(document).ready(function(){
            $("#btn_del").click(function(){
                $("#tr_5").hide();
            });
            $("#btn_get").click(function(){
                        $.get("epmloyees_list.php?pageSize=10&pageNum=1", function(data, status){
                            empty_table(table_array);                           
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >First Name</td>"
                                    +"<td >Last Name</td></tr>";
                            $("#tbl_employees").append(header);
                            
                            var array_test=JSON.parse(data);
                            
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id+"'>"
                                +"<td id='td_id"+array_test[i].id+"'></td>"
                                +"<td id='td_fname"+array_test[i].id+"'></td>"
                                +"<td id='td_lname"+array_test[i].id+"'></td></tr>";                            
                                $("#tbl_employees").append(tmp);
                                $("#td_id"+array_test[i].id).text(array_test[i].id);
                                $("#td_fname"+array_test[i].id).text(array_test[i].firstName);
                                $("#td_lname"+array_test[i].id).text(array_test[i].lastName);
                            }            
                        });       
                    });
            $("#btn_address").click(function(){
                        $.get("epmloyees_addresses.php?pageSize=10&pageNum=1", function(data, status){
                            empty_table(table_array); 
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >Type</td>"
                                    +"<td >Area</td>"
                                    +"<td >City</td>"
                                    +"<td >Address</td>"
                                    +"<td >Note</td></tr>";
                            $("#tbl_adresses").append(header);
                            
                            var array_test=JSON.parse(data);
                            
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id+"'>"
                                +"<td id='td_id"+array_test[i].id+"'></td>"
                                +"<td id='td_type"+array_test[i].id+"'></td>"
                                +"<td id='td_area"+array_test[i].id+"'></td>"
                                +"<td id='td_city"+array_test[i].id+"'></td>"
                                +"<td id='td_address"+array_test[i].id+"'></td>"
                                +"<td id='td_note"+array_test[i].id+"'></td></tr>";    
                        
                                $("#tbl_adresses").append(tmp);
                               
                                $("#td_id"+array_test[i].id).text(array_test[i].id);
                                $("#td_type"+array_test[i].id).text(array_test[i].type);
                                $("#td_area"+array_test[i].id).text(array_test[i].area);
                                $("#td_city"+array_test[i].id).text(array_test[i].city);
                                $("#td_address"+array_test[i].id).text(array_test[i].address);
                                $("#td_note"+array_test[i].id).text(array_test[i].note);
                            }            
                        });       
                    });
            $("#btn_educations").click(function(){
                        $.get("employees_educations.php?pageSize=10&pageNum=1", function(data, status){
                           empty_table(table_array); 
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >Type</td>"
                                    +"<td >Institution</td>"
                                    +"<td >Vocation</td>"
                                    +"</tr>";
                            $("#tbl_educations").append(header);
                            
                            var array_test=JSON.parse(data);
                            console.log(array_test);
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id+"'>"
                                +"<td id='td_id"+array_test[i].id+"'></td>"
                                +"<td id='td_type"+array_test[i].id+"'></td>"
                                +"<td id='td_institution"+array_test[i].id+"'></td>"
                                +"<td id='td_vocation"+array_test[i].id+"'></td>"
                                +"</tr>";    
                        
                                $("#tbl_educations").append(tmp);
                                 
                                $("#td_id"+array_test[i].id).text(array_test[i].id);
                                $("#td_type"+array_test[i].id).text(array_test[i].type);
                                $("#td_institution"+array_test[i].id).text(array_test[i].institution);
                                $("#td_vocation"+array_test[i].id).text(array_test[i].vocation);
                                
                            }            
                        });       
                    });
            $("#btn_phones").click(function(){
                        $.get("employees_phones.php?pageSize=10&pageNum=1", function(data, status){
                            empty_table(table_array); 
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >Type</td>"
                                    +"<td >Phone Number</td>";
                            $("#tbl_phones").append(header);
                            
                            var array_test=JSON.parse(data);
                            console.log(array_test);
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id+"'>"
                                +"<td id='td_id"+array_test[i].id+"'></td>"
                                +"<td id='td_type"+array_test[i].id+"'></td>"
                                +"<td id='td_number"+array_test[i].id+"'></td></tr>";    
                        
                                $("#tbl_phones").append(tmp);
                                 
                                $("#td_id"+array_test[i].id).text(array_test[i].id);
                                $("#td_type"+array_test[i].id).text(array_test[i].type);
                                $("#td_number"+array_test[i].id).text(array_test[i].number);
                                
                                
                            }            
                        });       
                    }); 
            $("#btn_empl_with_adr").click(function(){
                        $.get("empl_with_adr.php?pageSize=20&pageNum=1", function(data, status){
                            empty_table(table_array); 
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >First Name</td>"
                                    +"<td >Last Name</td>"
                                    +"<td >Area</td>"
                                    +"<td >City</td>"
                                    +"<td >Address</td></tr>";
                            $("#tbl_empl_with_adr").append(header);
                            
                            var array_test=JSON.parse(data);
                            console.log(array_test);
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id_adresa+"'>"
                                +"<td id='td_id"+array_test[i].id_adresa+"'></td>"
                                +"<td id='td_fname"+array_test[i].id_adresa+"'></td>"                               
                                +"<td id='td_lname"+array_test[i].id_adresa+"'></td>"
                                +"<td id='td_area"+array_test[i].id_adresa+"'></td>"
                                +"<td id='td_city"+array_test[i].id_adresa+"'></td>"
                                +"<td id='td_address"+array_test[i].id_adresa+"'></td>"
                                +"</tr>";                            
                                $("#tbl_empl_with_adr").append(tmp);
                                $("#td_id"+array_test[i].id_adresa).text(array_test[i].id_zaposleni);
                                $("#td_fname"+array_test[i].id_adresa).text(array_test[i].firstName);
                                $("#td_lname"+array_test[i].id_adresa).text(array_test[i].lastName);
                                $("#td_area"+array_test[i].id_adresa).text(array_test[i].area);
                                $("#td_city"+array_test[i].id_adresa).text(array_test[i].city);
                                $("#td_address"+array_test[i].id_adresa).text(array_test[i].address);                              
                                
                            }            
                        });       
                    }); 
            $("#btn_empl_with_phones").click(function(){
                        $.get("empl_with_phones.php?pageSize=20&pageNum=1", function(data, status){
                           empty_table(table_array); 
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >First Name</td>"
                                    +"<td >Last Name</td>"
                                    +"<td >Phone Number</td>"
                                    +"</tr>";
                            $("#tbl_empl_with_phones").append(header);
                            
                            var array_test=JSON.parse(data);
                            
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id_telefon+"'>"
                                +"<td id='td_id"+array_test[i].id_telefon+"'></td>"
                                +"<td id='td_fname"+array_test[i].id_telefon+"'></td>"                               
                                +"<td id='td_lname"+array_test[i].id_telefon+"'></td>"
                                +"<td id='td_number"+array_test[i].id_telefon+"'></td>"
                                +"</tr>";                            
                                $("#tbl_empl_with_phones").append(tmp);
                                $("#td_id"+array_test[i].id_telefon).text(array_test[i].id_zaposleni);
                                $("#td_fname"+array_test[i].id_telefon).text(array_test[i].firstName);
                                $("#td_lname"+array_test[i].id_telefon).text(array_test[i].lastName);
                                $("#td_number"+array_test[i].id_telefon).text(array_test[i].number);                               
                            }            
                        });       
                    });
            $("#btn_empl_with_edu").click(function(){
                        $.get("empl_with_edu.php?pageSize=20&pageNum=1", function(data, status){
                            empty_table(table_array); 
                            var header = "<tr>"
                                    +"<td >ID</td>"
                                    +"<td >First Name</td>"
                                    +"<td >Last Name</td>"
                                    +"<td >Institution</td>"
                                    +"<td >Vocation</td>"
                                    +"</tr>";
                            $("#tbl_empl_with_edu").append(header);
                            
                            var array_test=JSON.parse(data);
                            
                            for (i = 0; i < array_test.length; i++) {
                                var tmp="<tr id='tr_"+array_test[i].id_obrazovanje+"'>"
                                +"<td id='td_id"+array_test[i].id_obrazovanje+"'></td>"
                                +"<td id='td_fname"+array_test[i].id_obrazovanje+"'></td>"                               
                                +"<td id='td_lname"+array_test[i].id_obrazovanje+"'></td>"
                                +"<td id='td_institution"+array_test[i].id_obrazovanje+"'></td>"
                                +"<td id='td_vocation"+array_test[i].id_obrazovanje+"'></td>"
                                +"</tr>";                            
                                $("#tbl_empl_with_edu").append(tmp);
                                $("#td_id"+array_test[i].id_obrazovanje).text(array_test[i].id_zaposleni);
                                $("#td_fname"+array_test[i].id_obrazovanje).text(array_test[i].firstName);
                                $("#td_lname"+array_test[i].id_obrazovanje).text(array_test[i].lastName);
                                $("#td_institution"+array_test[i].id_obrazovanje).text(array_test[i].institution);
                                $("#td_vocation"+array_test[i].id_obrazovanje).text(array_test[i].vocation);                              
                            }            
                        });       
                    });
            $("#btn_send_pdf").click(function(){ 
                $.get("send_pdf.php?pageSize=20&pageNum=1", function(data, status){                   
                    empty_table(table_array); 
                    var header = "<tr>"
                        +"<td >ID</td>"
                        +"<td >Name</td>"
                        +"<td >Vocation</td>"
                        +"<td >Address</td>"
                        +"<td >Phone</td>"
                        +"</tr>";
                    $("#tbl_empl_with_adr").append(header);

                    var array_test=JSON.parse(data);
                    console.log(array_test);
                    for (i = 0; i < array_test.length; i++) {
                        var tmp="<tr id='tr_"+array_test[i].id_zaposleni+"'>"
                        +"<td id='td_id"+array_test[i].id_zaposleni+"'></td>"
                        +"<td id='td_fname"+array_test[i].id_zaposleni+"'></td>" 
                        +"<td id='td_vocation"+array_test[i].id_zaposleni+"'></td>"
                        +"<td id='td_address"+array_test[i].id_zaposleni+"'></td>"
                        +"<td id='td_phone"+array_test[i].id_zaposleni+"'></td>"
                        +"</tr>";                            
                        $("#tbl_empl_with_adr").append(tmp);
                        $("#td_id"+array_test[i].id_zaposleni).text(array_test[i].id_zaposleni);
                        $("#td_fname"+array_test[i].id_zaposleni).text(array_test[i].name);
                        var vocations='';
                        if(array_test[i].vocation.length>0){
                            for (j = 0; j < array_test[i].vocation.length; j++) { 
                                vocations=vocations + array_test[i].vocation[j] + "<br>";
                            }                            
                        }
                        else{
                            vocations="jjjj";
                        }
                        $("#td_vocation"+array_test[i].id_zaposleni).html(vocations);
                        
                        var addresses='';
                        for (l = 0; l < array_test[i].address.length; l++) { 
                            addresses=addresses + array_test[i].address[l] + "<br>";
                        }
                        $("#td_address"+array_test[i].id_zaposleni).html(addresses);
                        
                        var phones='';
                        for (k = 0; k < array_test[i].phone.length; k++) { 
                            phones=phones + array_test[i].phone[k] + "<br>";
                        }
                        $("#td_phone"+array_test[i].id_zaposleni).html(phones);
                            
                    }            
                });
            });
            
            $("#btn_send_csv").click(function(){ 
               $.get("send_csv.php?pageSize=200&pageNum=1", function(data, status){                   
                    empty_table(table_array); 
                    var header = "<tr>"
                        +"<td >ID</td>"
                        +"<td >Name</td>"
                        +"<td >Vocation</td>"
                        +"<td >Address</td>"
                        +"<td >Phone</td>"
                        +"</tr>";
                    $("#tbl_empl_with_adr").append(header);

                    var array_test=JSON.parse(data);
                    console.log(array_test);
                    for (i = 0; i < array_test.length; i++) {
                        var tmp="<tr id='tr_"+i+"'>"
                        +"<td id='td_id"+i+"'></td>"
                        +"<td id='td_name"+i+"'></td>" 
                        +"<td id='td_vocation"+i+"'></td>"
                        +"<td id='td_address"+i+"'></td>"
                        +"<td id='td_phone"+i+"'></td>"
                        +"</tr>";                            
                        $("#tbl_empl_with_adr").append(tmp);
                        $("#td_id"+i).text(array_test[i].id_zaposleni);
                        $("#td_name"+i).text(array_test[i].name);
                        $("#td_vocation"+i).text(array_test[i].vocation);
                        $("#td_address"+i).text(array_test[i].address);
                        $("#td_phone"+i).text(array_test[i].phone);
                    }            
                });
            }); 
        });

    </script>
</head>
<body>
<center>
    <button  id="btn_get">GET employees</button>
    <button id="btn_del">Delete 5th</button>
    <button id="btn_address">GET addresses</button>
    <br>
    <br>
    <button id="btn_educations">GET educations</button>
    <button id="btn_phones">GET phones</button>
    <br>
    <br>
    <button id="btn_empl_with_adr">GET employees with adress</button>
    <button id="btn_empl_with_phones">GET employees with phone</button>
    <button id="btn_empl_with_edu">GET employees with education</button>
    <br>
    <br>
    <button id="btn_send_pdf">Send PDF</button>
    <button id="btn_send_csv">Send CSV</button>
    <br>
    <br>
    <table id="tbl_employees" cellpadding="10">
    </table>    
    <table id="tbl_adresses" cellpadding="10">
    </table>
    <table id="tbl_educations" cellpadding="10">
    </table>
    <table id="tbl_phones" cellpadding="10">
    </table>
    <table id="tbl_empl_with_adr" cellpadding="10">
    </table>
    <table id="tbl_empl_with_phones" cellpadding="10">
    </table>
    <table id="tbl_empl_with_edu" cellpadding="10">
    </table>
</center>
</body>
</html>